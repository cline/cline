---
title: "Onboarding: Configure WorkOS for SSO"
sidebarTitle: "Onboarding: Configure WorkOS AuthKit"
description: "This guide explains how administrators configure WorkOS AuthKit for SSO provisioning and user management in Cline Enterprise."
---

## Prerequisites

- [Cline Enterprise License](https://cline.bot/enterprise)
- Access to your identity provider (IdP) configuration (e.g., Okta, Azure AD, Google Workspace)
- Knowledge of your organization's SSO requirements


## Configuration Steps

### Step 1: Onboard to Cline Enterprise license

Once you have a Cline Enterprise License, a WorkOS organization will be created for you automatically via webhook. Your IdP administrator will receive instructions for configuration.

### Step 2: Configure Your Identity Provider

Connect your identity provider (IdP) to WorkOS:

1. In the WorkOS dashboard, go to **AuthKit → Connections**
2. Click **Add Connection**
3. Select your identity provider (e.g., Okta, Azure AD, Google Workspace, Generic SAML/OIDC)
4. Follow the provider-specific setup instructions

Each identity provider (IdP) will have its own setup process and required fields. Be sure to follow the specific instructions in the WorkOS dashboard for your chosen provider.
For more explicit instruction on connecting your IdP, refer to the [WorkOS SSO documentation](https://workos.com/docs/authkit/sso)


### Step 3: Configure User Provisioning

Cline Enterprise uses **just-in-time provisioning** that works automatically:

- **Organizations are created automatically** via webhook when configured in WorkOS
- **Users gain access automatically** on their first SSO sign-in, once their credentials have been configured by the IdP administrator.
- **Roles sync automatically** from your IdP (Admin/Owner → Admin, Member → Member)
- **No manual user invites or seat management** required

No additional configuration is needed. Users are provisioned automatically when they sign in through SSO.

### Step 4: Configure Redirect URIs

Add Cline's callback URLs to your WorkOS application:

1. In WorkOS, go to **AuthKit → Redirect URIs**
2. Add the following redirect URIs:
   - `https://app.cline.bot/auth/callback`
   - `http://localhost:*/auth/callback` (for local development)

For more information about redirect URIs, see the [WorkOS Redirect URI Configuration](https://workos.com/docs/authkit/redirect-uris).

### Step 5: Retrieve WorkOS Credentials

Obtain your WorkOS API credentials:

1. In the WorkOS dashboard, navigate to **API Keys**
2. Copy your **Client ID** and **API Key**
3. Note your **Environment ID** (found in your organization settings)

Keep these credentials secure. You'll need them in the next step.

For API key management, refer to the [WorkOS API Keys Documentation](https://workos.com/docs/authkit/api-keys).

### Step 6: Configure Cline Admin Console

Connect WorkOS to Cline:

1. Navigate to [app.cline.bot](https://app.cline.bot) and sign in with your administrator account
2. Go to **Settings → Authentication → SSO Configuration**
3. Select **WorkOS AuthKit** as your SSO provider
4. Enter your WorkOS credentials:
   - **Client ID**: Your WorkOS Client ID
   - **API Key**: Your WorkOS API Key
   - **Environment ID**: Your WorkOS Environment ID
5. Configure additional settings:
   - **Session Duration**: Set session timeout duration

**Note:** Enterprise organizations use just-in-time provisioning—users are automatically granted access on their first SSO sign-in. Seat limits do not apply to enterprise organizations.

### Step 7: Configure User Attributes Mapping

User roles are mapped automatically from your IdP:
- **Admin/Owner** in IdP → **Admin** role in Cline
- **Member** in IdP → **Member** role in Cline

If needed, you can configure additional user attributes in the Cline Admin console:

1. Go to **Settings → Authentication → User Attributes**
2. Map attributes such as email and name based on your IdP configuration

For information about available user attributes, see the [WorkOS User Object Documentation](https://workos.com/docs/authkit/user-management).

### Step 8: Test SSO Connection

Verify the configuration:

1. In the Cline Admin console, click **Test SSO Connection**
2. You should be redirected to your IdP login page
3. After successful authentication, you should be redirected back to Cline
4. Verify that user information is correctly populated

### Step 9: Enable SSO for Organization

Activate SSO for your organization:

1. In the Cline Admin console, go to **Settings → Authentication**
2. Toggle **Enable SSO** to on
3. Select **Enforce SSO** if you want to require SSO for all users
4. Click **Save** to apply the changes

**Note:** When SSO is enforced, users will only be able to sign in through your corporate identity provider. Personal accounts and other authentication methods will be disabled.

---

## How Just-in-Time Provisioning Works

### Organization Creation

When your organization is configured in WorkOS, a webhook automatically creates your organization in Cline with:
- Your organization name from WorkOS
- A link to your WorkOS organization ID
- Enterprise settings (unlimited seats, no subscription plan)

### User Access

On a user's first SSO sign-in:
1. User authenticates via your IdP (through WorkOS)
2. Organization lookup happens automatically using the WorkOS organization ID
3. Membership is created automatically if the user doesn't already have access
4. Role is assigned automatically based on their IdP role

### Ongoing Synchronization

Changes sync automatically:
- **Organization updates** via webhooks
- **Role changes** on next sign-in
- **Access revocation** when users are removed from your IdP

### Managing Access

Manage users through your IdP:
- Add users → access granted automatically on first login
- Change roles → updated on next login
- Remove users → access revoked automatically

---

## Verification

Steps to verify the configuration:

1. **Test User Sign-In**: Have a test user sign in through the SSO flow (access is granted automatically on first login)
2. **Verify User Provisioning**: Confirm that the user is automatically created and has appropriate role permissions
3. **Check User Attributes**: Verify that user information (name, email, organization) is correctly populated
4. **Test Role Changes**: Update a user's role in your IdP and verify it syncs on their next login
5. **Test User Deprovisioning**: Remove a user from your IdP and verify they lose access to Cline on their next login attempt
6. **Review Audit Logs**: Check WorkOS audit logs to ensure authentication events are being recorded

---

## Troubleshooting

### SSO Sign-In Fails

**Error:** Users cannot sign in through SSO  
**Solution:**
- Verify IdP credentials are correct in admin dashboard
- Check that redirect URIs are properly configured in WorkOS
- Ensure your IdP connection is active in WorkOS dashboard
- Review WorkOS logs for authentication errors
- Refer to [WorkOS Troubleshooting Guide](https://workos.com/docs/authkit/troubleshooting)

### User Attributes Not Mapping Correctly

**Issue:** User information is missing or incorrect  
**Solution:**
- Verify attribute mapping in Cline Admin console matches your IdP's user schema
- Check WorkOS user attribute configuration
- Ensure your IdP is sending required attributes in the SSO response
- Review [WorkOS User Attributes Documentation](https://workos.com/docs/authkit/user-attributes)

### Users Not Being Provisioned

**Issue:** New users from IdP are not granted access in Cline
**Solution:**
- Verify the user has signed in via SSO (just-in-time provisioning happens on first login)
- Check that the user is assigned to the correct organization in WorkOS
- Verify the user has an assigned role in your IdP
- Ensure the organization exists in Cline (created automatically via webhook)
- Review WorkOS logs for authentication errors

### Roles Not Syncing

**Issue:** User roles don't match IdP roles
**Solution:**
- Roles sync when users sign in—have the user sign out and back in
- Verify role names in your IdP match expected values (Admin/Owner or Member)
- Check WorkOS organization membership configuration
- Allow up to 24 hours for role changes to propagate

### Organization Not Created

**Issue:** Organization doesn't appear in Cline
**Solution:**
- Verify the organization exists in WorkOS
- Check that webhooks are configured correctly
- Contact support with your organization ID if issues persist after 24 hours

### Session Timeout Issues

**Issue:** Users are logged out unexpectedly  
**Solution:**
- Adjust session duration settings in Cline Admin console
- Verify WorkOS session configuration
- Check your IdP session timeout settings
- Review [WorkOS Session Management](https://workos.com/docs/authkit/session-management)

---

## Additional Resources

### WorkOS Documentation

- [WorkOS AuthKit Overview](https://workos.com/docs/authkit)
- [WorkOS API Reference](https://workos.com/docs/api-reference)
- [WorkOS Best Practices](https://workos.com/docs/authkit/best-practices)
- [WorkOS Security Guide](https://workos.com/docs/authkit/security)

### Cline Enterprise Documentation

- [Security Architecture](/enterprise-solutions/security-concerns)
- [Organization Management](/enterprise-solutions/organization-management)
- [Role-Based Access Control](/enterprise-solutions/rbac)

---

## Conclusion

By following these steps, you can successfully configure WorkOS AuthKit for SSO provisioning in Cline Enterprise:

1. **Receive WorkOS Organization**: Your organization is created automatically when you onboard to Cline Enterprise
2. **Configure Identity Provider**: Connect your IdP (Okta, Azure AD, etc.) to WorkOS
3. **Configure Cline**: Connect WorkOS to Cline Admin console with your credentials
4. **Test and Enable**: Verify configuration and enable SSO for your organization

Just-in-time provisioning handles user access automatically—users gain access on their first SSO sign-in, and roles sync automatically from your IdP.

For further details, consult the [WorkOS AuthKit Documentation](https://workos.com/docs/authkit) and coordinate with your identity and access management team.

---

_This guide will be updated as WorkOS AuthKit and Cline evolve. Always refer to the latest documentation and internal policies for up-to-date practices._

