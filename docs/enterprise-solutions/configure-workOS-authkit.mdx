---
title: "Onboarding: Configure WorkOS for SSO"
sidebarTitle: "Onboarding: Configure WorkOS AuthKit"
description: "This guide explains how administrators configure WorkOS AuthKit for SSO provisioning and user management in Cline Enterprise."
---

## Prerequisites

- [Cline Enterprise License](https://cline.bot/enterprise)
- Access to your identity provider (IdP) configuration (e.g., Okta, Azure AD, Google Workspace)
- Knowledge of your organization's SSO requirements

## Overview

WorkOS AuthKit provides enterprise-grade SSO authentication and user provisioning for Cline. By configuring WorkOS AuthKit, you can:

- Enable single sign-on (SSO) with your corporate identity provider
- Automatically provision and deprovision users
- Manage user access through centralized policies

For detailed information about WorkOS AuthKit capabilities, refer to the [WorkOS AuthKit Documentation](https://workos.com/docs/authkit).

---

## Configuration Steps

### Step 1: Onboard to Cline Enterprise license

Once you have a Cline Enterprise License, a WorkOS organization will be created for you, and your IdP administrator will recieve instructions for configuration. 

### Step 2: Configure Your Identity Provider

Connect your identity provider (IdP) to WorkOS:

1. In the WorkOS dashboard, go to **AuthKit → Connections**
2. Click **Add Connection**
3. Select your identity provider (e.g., Okta, Azure AD, Google Workspace, Generic SAML/OIDC)
4. Follow the provider-specific setup instructions

Each IdP has specific configuration requirements. Refer to the appropriate WorkOS documentation:

- [Okta Configuration](https://workos.com/docs/authkit/sso/okta)
- [Azure AD Configuration](https://workos.com/docs/authkit/sso/azure-ad)
- [Google Workspace Configuration](https://workos.com/docs/authkit/sso/google-workspace)
- [Generic SAML/OIDC Configuration](https://workos.com/docs/authkit/sso/generic-saml)

### Step 3: Configure User Provisioning

Set up automatic user provisioning and deprovisioning:

1. Navigate to **AuthKit → User Provisioning** in the WorkOS dashboard
2. Enable **SCIM provisioning** if your IdP supports it for automatic user sync
3. Configure user attributes mapping to ensure user data flows correctly

For detailed provisioning setup, refer to the [WorkOS User Provisioning Guide](https://workos.com/docs/authkit/user-provisioning).

### Step 4: Configure Redirect URIs

Add Cline's callback URLs to your WorkOS application:

1. In WorkOS, go to **AuthKit → Redirect URIs**
2. Add the following redirect URIs:
   - `https://app.cline.bot/auth/callback`
   - `http://localhost:*/auth/callback` (for local development)

For more information about redirect URIs, see the [WorkOS Redirect URI Configuration](https://workos.com/docs/authkit/redirect-uris).

### Step 5: Retrieve WorkOS Credentials

Obtain your WorkOS API credentials:

1. In the WorkOS dashboard, navigate to **API Keys**
2. Copy your **Client ID** and **API Key**
3. Note your **Environment ID** (found in your organization settings)

Keep these credentials secure. You'll need them in the next step.

For API key management, refer to the [WorkOS API Keys Documentation](https://workos.com/docs/authkit/api-keys).

### Step 6: Configure Cline Admin Console

Connect WorkOS to Cline:

1. Navigate to [app.cline.bot](https://app.cline.bot) and sign in with your administrator account
2. Go to **Settings → Authentication → SSO Configuration**
3. Select **WorkOS AuthKit** as your SSO provider
4. Enter your WorkOS credentials:
   - **Client ID**: Your WorkOS Client ID
   - **API Key**: Your WorkOS API Key
   - **Environment ID**: Your WorkOS Environment ID
5. Configure additional settings:
   - **Default Organization**: Set the default organization for new users
   - **Auto-provisioning**: Enable automatic user provisioning from your IdP
   - **Session Duration**: Set session timeout duration

### Step 7: Configure User Attributes Mapping

Map WorkOS user attributes to Cline user properties:

1. In the Cline Admin console, go to **Settings → Authentication → User Attributes**
2. Map the following attributes (adjust based on your IdP configuration):
   - **Email**: `user.email`
   - **Name**: `user.first_name` + `user.last_name`
   - **Organization**: `organization.id` or custom attribute
   - **Groups/Roles**: `user.organization_memberships` or custom attribute

For information about available user attributes, see the [WorkOS User Object Documentation](https://workos.com/docs/authkit/user-management).

### Step 8: Test SSO Connection

Verify the configuration:

1. In the Cline Admin console, click **Test SSO Connection**
2. You should be redirected to your IdP login page
3. After successful authentication, you should be redirected back to Cline
4. Verify that user information is correctly populated

### Step 9: Enable SSO for Organization

Activate SSO for your organization:

1. In the Cline Admin console, go to **Settings → Authentication**
2. Toggle **Enable SSO** to on
3. Select **Enforce SSO** if you want to require SSO for all users
4. Click **Save** to apply the changes

**Note:** When SSO is enforced, users will only be able to sign in through your corporate identity provider. Personal accounts and other authentication methods will be disabled.

---

## Verification

To verify the configuration:

1. **Test User Sign-In**: Have a test user sign in through the SSO flow
2. **Verify User Provisioning**: Confirm that new users are automatically created in Cline
3. **Check User Attributes**: Verify that user information (name, email, organization) is correctly populated
4. **Test User Deprovisioning**: Remove a user from your IdP and verify they lose access to Cline
5. **Review Audit Logs**: Check WorkOS audit logs to ensure authentication events are being recorded

---

## Troubleshooting

### SSO Sign-In Fails

**Error:** Users cannot sign in through SSO  
**Solution:**
- Verify WorkOS credentials are correct in Cline Admin console
- Check that redirect URIs are properly configured in WorkOS
- Ensure your IdP connection is active in WorkOS dashboard
- Review WorkOS logs for authentication errors
- Refer to [WorkOS Troubleshooting Guide](https://workos.com/docs/authkit/troubleshooting)

### User Attributes Not Mapping Correctly

**Issue:** User information is missing or incorrect  
**Solution:**
- Verify attribute mapping in Cline Admin console matches your IdP's user schema
- Check WorkOS user attribute configuration
- Ensure your IdP is sending required attributes in the SSO response
- Review [WorkOS User Attributes Documentation](https://workos.com/docs/authkit/user-attributes)

### Users Not Being Provisioned

**Issue:** New users from IdP are not created in Cline  
**Solution:**
- Verify auto-provisioning is enabled in Cline Admin console
- Check WorkOS provisioning settings
- Ensure SCIM is properly configured if using SCIM provisioning
- Review provisioning logs in WorkOS dashboard
- See [WorkOS SCIM Provisioning Guide](https://workos.com/docs/authkit/scim)

### Session Timeout Issues

**Issue:** Users are logged out unexpectedly  
**Solution:**
- Adjust session duration settings in Cline Admin console
- Verify WorkOS session configuration
- Check your IdP session timeout settings
- Review [WorkOS Session Management](https://workos.com/docs/authkit/session-management)

---

## Additional Resources

### WorkOS Documentation

- [WorkOS AuthKit Overview](https://workos.com/docs/authkit)
- [WorkOS API Reference](https://workos.com/docs/api-reference)
- [WorkOS Best Practices](https://workos.com/docs/authkit/best-practices)
- [WorkOS Security Guide](https://workos.com/docs/authkit/security)

### Cline Enterprise Documentation

- [Security Architecture](/enterprise-solutions/security-concerns)
- [Organization Management](/enterprise-solutions/organization-management)
- [Role-Based Access Control](/enterprise-solutions/rbac)

---

## Conclusion

By following these steps, you can successfully configure WorkOS AuthKit for SSO provisioning in Cline Enterprise:

1. **Set Up WorkOS Account**: Create account and organization in WorkOS
2. **Configure Identity Provider**: Connect your IdP (Okta, Azure AD, etc.) to WorkOS
3. **Enable User Provisioning**: Set up automatic user provisioning and deprovisioning
4. **Configure Cline**: Connect WorkOS to Cline Admin console with your credentials
5. **Map User Attributes**: Ensure user data flows correctly from IdP to Cline
6. **Test and Enable**: Verify configuration and enable SSO for your organization

For further details, consult the [WorkOS AuthKit Documentation](https://workos.com/docs/authkit) and coordinate with your identity and access management team.

---

_This guide will be updated as WorkOS AuthKit and Cline evolve. Always refer to the latest documentation and internal policies for up-to-date practices._

