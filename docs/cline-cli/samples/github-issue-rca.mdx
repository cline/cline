---
title: GitHub Root Cause Analysis
description: An autonomous GitHub issue analyzer using Cline CLI
---

Build a sample using a bash script that takes a GitHub issue URL as input and performs comprehensive automated analysis. The script leverages GitHub CLI to fetch issue details, then uses Cline's autonomous capabilities to analyze the issue content, explore relevant codebase files, identify root causes, and provide detailed recommendations for resolutionâ€”all while operating autonomously and outputting clean, parseable results that can be easily integrated into your development workflows.



## Prerequisites

Before starting this sample, ensure you have:

- **Cline CLI** installed and configured ([Installation Guide](/cline-cli/installation))
- **GitHub CLI** (`gh`) installed and authenticated
- **jq** installed for JSON parsing
- **bash** shell (or compatible shell)
- Basic understanding of command-line scripting, JSON data structures, and GitHub issues

<Tabs>
  <Tab title="macOS">
    ```bash
    # Install GitHub CLI
    brew install gh

    # Install jq
    brew install jq

    # Authenticate with GitHub
    gh auth login
    ```
  </Tab>
  <Tab title="Linux">
    ```bash
    # Install GitHub CLI (Debian/Ubuntu)
    sudo apt install gh

    # Or for other Linux distributions, see: https://cli.github.com/manual/installation

    # Install jq (Debian/Ubuntu)
    sudo apt install jq

    # Authenticate with GitHub
    gh auth login
    ```
  </Tab>
</Tabs>

### Key Features

- **Non-interactive execution** - Runs completely autonomously without user input
- **JSON output parsing** - Extracts relevant data from Cline's structured output
- **Flexible prompting** - Supports custom analysis questions
- **Instance targeting** - Can work with specific Cline instances
- **Context-aware analysis** - Understands code repositories and issue context

## Demo Video

Watch this sample in action:

<div style={{ maxWidth: '800px', margin: '2rem auto' }}>
  <video 
    controls 
    style={{ width: '100%', borderRadius: '8px', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' }}
  >
    <source src="https://storage.googleapis.com/cline_public_images/cli-rca.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
</div>

### Complete Sample Script

Here's the full `analyze-issue.sh` script:

```bash
#!/bin/bash
# Analyze a GitHub issue using Cline CLI

if [ -z "$1" ]; then
    echo "Usage: $0 <github-issue-url> [prompt] [address]"
    echo "Example: $0 https://github.com/owner/repo/issues/123"
    echo "Example: $0 https://github.com/owner/repo/issues/123 'What is the root cause of this issue?'"
    echo "Example: $0 https://github.com/owner/repo/issues/123 'What is the root cause of this issue?' 127.0.0.1:46529"
    exit 1
fi
# Gather the args
ISSUE_URL="$1"
PROMPT="${2:-What is the root cause of this issue?}"
if [ -n "$3" ]; then
    ADDRESS="--address $3"
fi
# Ask Cline for his analysis, showing only the summary
cline -y "$PROMPT: $ISSUE_URL" --mode act $ADDRESS -F json | \
    sed -n '/^{/,$p' | \
    jq -r 'select(.say == "completion_result") | .text' | \
    sed 's/\\n/\n/g'
```

### How to Execute

To run this script, follow these steps:

1. **Save the script** to a file named `analyze-issue.sh`
2. **Make it executable**:
   ```bash
   chmod +x analyze-issue.sh
   ```
3. **Run the script** with a GitHub issue URL:
   ```bash
   ./analyze-issue.sh https://github.com/owner/repo/issues/123
   ```

<Note>
The script will automatically handle everything: fetching the issue, analyzing it with Cline, and displaying the results. The analysis typically takes 30-60 seconds depending on the issue complexity.
</Note>

## Breaking Down the Sample

Let's analyze each component of the script to understand how it works.

### Argument Validation

Add input validation and usage instructions:

```bash
if [ -z "$1" ]; then
    echo "Usage: $0 <github-issue-url> [prompt] [address]"
    echo "Example: $0 https://github.com/owner/repo/issues/123"
    echo "Example: $0 https://github.com/owner/repo/issues/123 'What is the root cause?'"
    echo "Example: $0 https://github.com/owner/repo/issues/123 'Analyze security impact' 127.0.0.1:46529"
    exit 1
fi
```

<Note>
**Key Points:**
- Validates required GitHub issue URL
- Shows clear usage examples
- Supports optional custom prompt
- Supports optional Cline instance address
</Note>

### Argument Parsing

Extract and set up the arguments:

```bash
# Gather the args
ISSUE_URL="$1"
PROMPT="${2:-What is the root cause of this issue?}"
if [ -n "$3" ]; then
    ADDRESS="--address $3"
fi
```

<Note>
**Explanation:**
- `ISSUE_URL="$1"` - First argument is always the issue URL
- `PROMPT="${2:-...}"` - Second argument is optional, defaults to root cause analysis
- `ADDRESS` - Third argument is optional, only set if provided
</Note>

### The Core Analysis Pipeline

This is where the magic happens:

```bash
# Ask Cline for his analysis, showing only the summary
cline -y "$PROMPT: $ISSUE_URL" --mode act $ADDRESS -F json | \
    sed -n '/^{/,$p' | \
    jq -r 'select(.say == "completion_result") | .text' | \
    sed 's/\\n/\n/g'
```

<AccordionGroup>
<Accordion title="Pipeline Breakdown: Understanding Each Component">

**1. `cline -y "$PROMPT: $ISSUE_URL"`**
   - `-y` enables yolo mode (no user interaction)
   - Constructs prompt with issue URL

**2. `--mode act`**
   - Enables act mode for active investigation
   - Allows Cline to use tools (read files, run commands, etc.)

**3. `$ADDRESS`**
   - Optional address flag for specific instance
   - Expands to `--address <ip:port>` if set

**4. `-F json`**
   - Outputs in JSON format for parsing

**5. `sed -n '/^{/,$p'`**
   - Extracts JSON from output
   - Skips any non-JSON prefix lines

**6. `jq -r 'select(.say == "completion_result") | .text'`**
   - Filters for completion result messages
   - Extracts the text field
   - `-r` outputs raw strings (no JSON quotes)

**7. `sed 's/\\n/\n/g'`**
   - Converts escaped newlines to actual newlines
   - Makes output readable

</Accordion>
</AccordionGroup>

## Usage Examples

### Basic Usage

Analyze an issue with the default root cause prompt:

```bash
./analyze-issue.sh https://github.com/owner/repo/issues/123
```

This will:
- Fetch issue #123 from the repository
- Analyze the issue to identify root causes
- Provide detailed analysis with recommendations

### Custom Analysis Prompt

Ask specific questions about the issue:

```bash
./analyze-issue.sh https://github.com/owner/repo/issues/456 "What is the security impact?"
```

### Using Specific Cline Instance

Target a particular Cline instance by address:

```bash
./analyze-issue.sh https://github.com/owner/repo/issues/123 \
    "What is the root cause of this issue?" \
    127.0.0.1:46529
```

<Info>
This is useful when:
- Running multiple Cline instances
- Using a remote Cline server
- Testing with specific configurations
</Info>

## Sample Output

Here's an example analyzing a real Flutter issue:

```bash
$ ./analyze-issue.sh https://github.com/csells/flutter_counter/issues/2
```

**Output:**

```markdown
**Root Cause Analysis of Issue #2: "setState isn't cutting it"**

After examining the GitHub issue and analyzing the Flutter counter codebase, 
I've identified the root cause of why setState() is insufficient for this 
project's needs:

## Current Implementation Problems

The current Flutter counter app uses setState() for state management, which 
has several limitations:

1. **Local State Only**: setState() only works within a single widget, making 
   it difficult to share state across the app
2. **Rebuild Overhead**: Every setState() call rebuilds the entire widget tree, 
   causing performance issues with complex UIs
3. **No State Persistence**: State is lost when the widget is disposed
4. **Testing Challenges**: setState-based logic is tightly coupled to the UI, 
   making unit testing difficult

## Why This Matters

As the app grows beyond a simple counter, these limitations become critical:
- Multiple screens need to access the count
- State needs to persist across navigation
- Business logic should be testable independently
- UI should only rebuild when necessary

## Recommended Solutions

The issue mentions "Provider or Bloc" - both are excellent alternatives:

1. **Provider**: Simple, lightweight state management using InheritedWidget
   - Easy migration path from setState
   - Good for small to medium apps
   - Official Flutter recommendation

2. **Bloc**: More structured approach with clear separation between events, 
   states, and business logic
   - Better for complex apps
   - Excellent testability
   - Clear architectural patterns

3. **Riverpod**: Modern alternative to Provider with better performance and 
   developer experience
   - Compile-time safety
   - Better testing support
   - More flexible than Provider

4. **GetX**: Full-featured solution with state management, routing, and 
   dependency injection
   - Minimal boilerplate
   - Fast and lightweight
   - All-in-one solution

## Next Steps

The current codebase needs refactoring to implement proper state management 
architecture to handle more complex state scenarios effectively. Provider 
would be the easiest migration path while Bloc provides better long-term 
scalability.
```

## Use Cases

This script pattern is useful for various scenarios:

### Bug Investigation
Quickly analyze bug reports and identify root causes:
```bash
./analyze-issue.sh https://github.com/project/repo/issues/123 \ 
   "What is the root cause of this bug?"
```

### Feature Request Analysis
Understand context and implications of feature requests:
```bash
./analyze-issue.sh https://github.com/project/repo/issues/456 \
    "What are the implementation challenges?"
```

### Security Audits
Assess security implications of reported issues:
```bash
./analyze-issue.sh https://github.com/project/repo/issues/789 \
    "What are the security implications?"
```

### Documentation Generation
Generate detailed analysis for documentation:
```bash
./analyze-issue.sh https://github.com/project/repo/issues/654 \
    "Provide detailed technical documentation for this issue"
```

### Code Review Assistance
Get second opinions on proposed changes:
```bash
./analyze-issue.sh https://github.com/project/repo/issues/987 \
    "Review the proposed solution approach"
```

## Conclusion

With this sample, you've covered:

1. **Building autonomous CLI tools** using Cline's capabilities
2. **Parsing structured JSON output** from Cline CLI
3. **Creating flexible automation scripts** with custom prompting
4. **Integrating with GitHub** for issue analysis
5. **Extracting specific data** from streaming JSON output
6. **Handling command-line arguments** effectively
7. **Building reusable automation patterns** for various use cases
