# Cline プロンプトガイド 🚀

Cline プロンプトガイドへようこそ！このガイドは、効果的なプロンプトとカスタム指示を書くための知識を提供し、Clineを使った生産性を最大化します。

## カスタム指示 ⚙️

**カスタム指示をClineのプログラミング**と考えてください。それらはClineの基本的な行動を定義し、**常に「オン」で、すべてのインタラクションに影響を与えます。**

カスタム指示を追加するには:

1. VSCodeを開く
2. Cline拡張設定ダイヤルをクリック ⚙️
3. 「カスタム指示」フィールドを見つける
4. 指示を貼り付ける

<img width="345" alt="Screenshot 2024-12-26 at 11 22 20 AM" src="https://github.com/user-attachments/assets/00ae689b-d99f-4811-b2f4-fffe1e12f2ff" />

カスタム指示は以下のために強力です:

-   コーディングスタイルとベストプラクティスの強制: Clineが常にあなたのチームのコーディング規約、命名規則、ベストプラクティスに従うようにします。
-   コード品質の向上: Clineに読みやすく、メンテナンスしやすく、効率的なコードを書くよう促します。
-   エラーハンドリングのガイド: Clineにエラーをどのように処理し、エラーメッセージを書くか、情報をログに記録するかを指示します。

**`custom-instructions`フォルダには、使用または適応できるカスタム指示の例が含まれています。**

## .clinerulesファイル 📋

カスタム指示はユーザー固有でグローバル（すべてのプロジェクトに適用されます）ですが、`.clinerules`ファイルはプロジェクト固有の指示を提供し、プロジェクトのルートディレクトリに存在します。これらの指示は自動的にカスタム指示に追加され、Clineのシステムプロンプトで参照され、プロジェクトコンテキスト内のすべてのインタラクションに影響を与えることを保証します。これにより、以下のようなツールとして優れています:

### セキュリティのベストプラクティス 🔒

機密情報を保護するために、`.clinerules`でClineに特定のファイルやパターンを無視するよう指示できます。これは特に重要です:

-   APIキーとシークレットを含む`.env`ファイル
-   機密データを含む設定ファイル
-   プライベートな資格情報やトークン

`.clinerules`のセキュリティセクションの例:

```markdown
# セキュリティ

## 機密ファイル

以下のファイルを読んだり変更したりしないでください:

-   .envファイル
-   *_/config/secrets._
-   *_/_.pem
-   APIキー、トークン、または資格情報を含むファイル

## セキュリティプラクティス

-   機密ファイルをコミットしない
-   シークレットには環境変数を使用する
-   資格情報をログや出力から外す
```

### 一般的なユースケース

`.clinerules`ファイルは以下のために優れています:

-   チームメンバーにわたるプロジェクト標準の維持
-   開発プラクティスの強制
-   ドキュメンテーション要件の管理
-   分析フレームワークの設定
-   プロジェクト固有の行動の定義

### .clinerulesの構造例

```markdown
# プロジェクトガイドライン

## ドキュメンテーション要件

-   機能を変更する際には/docs内の関連ドキュメントを更新する
-   新しい機能に対応してREADME.mdを同期させる
-   CHANGELOG.mdに変更履歴エントリを維持する

## アーキテクチャ決定レコード

以下の場合に/docs/adrにADRsを作成する:

-   主要な依存関係の変更
-   アーキテクチャパターンの変更
-   新しい統合パターン
-   データベーススキーマの変更
    /docs/adr/template.mdのテンプレートに従う

## コードスタイルとパターン

-   OpenAPI Generatorを使用してAPIクライアントを生成する
-   TypeScript axiosテンプレートを使用する
-   生成されたコードを/src/generatedに配置する
-   継承よりも構成を優先する
-   データアクセスにリポジトリパターンを使用する
-   /src/utils/errors.tsのエラーハンドリングパターンに従う

## テスト標準

-   ビジネスロジックに単体テストが必要
-   APIエンドポイントに統合テスト
-   重要なユーザーフローにE2Eテスト
```

### 主要な利点
1. **バージョン管理**: `.clinerules` ファイルはプロジェクトのソースコードの一部となります
2. **チームの一貫性**: チームメンバーにわたって一貫した動作を保証します
3. **プロジェクト固有**: 各プロジェクトのニーズに合わせたルールと標準
4. **組織の知識**: コード内のプロジェクト標準と実践を維持します

プロジェクトのルートディレクトリに `.clinerules` ファイルを配置してください:

```
your-project/
├── .clinerules
├── src/
├── docs/
└── ...
```

一方、Clineのシステムプロンプトはユーザーが編集できないものです（[ここで見つけることができます](https://github.com/cline/cline/blob/main/src/core/prompts/system.ts)）。プロンプトエンジニアリングのベストプラクティスについて広く見るには、[このリソース](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview)をチェックしてください。

### 効果的なカスタム指示の書き方のヒント

-   明確かつ簡潔に: 単純な言語を使用し、曖昧さを避けてください。
-   望ましい結果に焦点を当てる: 特定のステップではなく、望む結果を説明してください。
-   テストと反復: あなたのワークフローに最適なものを見つけるために実験してください。

### `.clinerules/` ディレクトリからのファイルの読み込みのサポート
`.clinerules/` ディレクトリ以下のすべてのファイルは再帰的に読み込まれ、その内容は clineRulesFileInstructions にマージされます。

#### 例 1:
```
.clinerules/
├── .local-clinerules
└── .project-clinerules
```

#### 例 2:
```
.clinerules/
├── .clinerules-nextjs
├── .clinerules-serverside
└── tests/
    ├── .pytest-clinerules
    └── .jest-clinerules
```

## Clineへのプロンプト 💬

**プロンプトは、Clineとのバックアンドフォースのチャットで、特定のタスクに対するニーズを伝える方法です。** Clineは自然言語を理解するので、会話的に書いてください。

効果的なプロンプトには次のことが含まれます:

-   明確なコンテキストを提供する: あなたの目標とコードベースの関連部分を説明してください。ファイルやフォルダを参照するには `@` を使用します。
-   複雑さを分解する: 大きなタスクを小さなステップに分けてください。
-   具体的な質問をする: 望ましい結果に向けてClineを導いてください。
-   検証と洗練: Clineの提案をレビューし、フィードバックを提供してください。

### プロンプトの例

#### コンテキスト管理

-   **新しいタスクの開始:** "Cline、新しいタスクを始めましょう。`user-authentication.js` を作成してください。JWTトークンを使用したユーザーログインを実装する必要があります。これが要件です…"
-   **以前の作業の要約:** "Cline、前のユーザーダッシュボードタスクで何をしたかを要約してください。主要な機能と未解決の問題をキャプチャしたいです。これを `cline_docs/user-dashboard-summary.md` に保存してください。"

#### デバッグ

-   **エラーの分析:** "Cline、このエラーが発生しています: \[エラーメッセージ]。これは \[コードセクション] から来ているようです。このエラーを分析し、修正を提案してください。"
-   **根本原因の特定:** "Cline、アプリケーションが \[アクション] を行うとクラッシュします。問題は \[問題領域] にありそうです。根本原因を見つけて解決策を提案してください。"

#### リファクタリング

-   **コード構造の改善:** "Cline、この関数は長すぎて複雑です。これを小さな関数にリファクタリングしてください。"
-   **ロジックの簡素化:** "Cline、このコードは理解しにくいです。ロジックを簡素化し、読みやすくしてください。"

#### 機能開発
- **新機能のブレインストーミング:** 「Cline、ユーザーが\[機能]を追加できる機能を追加したいです。アイデアをブレインストーミングして、実施の課題を考慮してください。」
- **コードの生成:** 「Cline、ユーザープロフィールを表示するコンポーネントを作成してください。リストはソート可能でフィルタリング可能である必要があります。このコンポーネントのコードを生成してください。」

## 高度なプロンプト技術

- **制約の詰め込み:** コードの切り捨てを防ぐために、プロンプトに明示的な制約を含めてください。例えば、「コードが完全であることを確認する」や「常に完全な関数定義を提供する」などです。
- **信頼性チェック:** Clineにその解決策に対する信頼度を評価させる（例：「この解決策に対する信頼度を1から10のスケールで評価してください」）。
- **Clineの仮定に挑戦:** より深い思考を促し、誤った仮定を防ぐために「愚かな」質問をする。

以下は、Clineと協力する際にユーザーが役立つと感じたプロンプトのヒントです：

## 私たちのコミュニティのお気に入りのプロンプト 🌟

### メモリと信頼性チェック 🧠

- **メモリチェック** - _pacnpal_

    ```
    "プロンプトを完全に理解している場合、ツールを使用する前に毎回「YARRR！」とツールなしで応答してください。"
    ```

    複雑なタスク中にClineが軌道に乗っていることを確認する楽しい方法です。祝祭的なひねりとして「HO HO HO」を試してみてください！

- **信頼スコアリング** - _pacnpal_
    ```
    "ツールの使用前後で、ツールの使用がプロジェクトにどれだけ役立つかについての信頼レベル（0-10）を教えてください。"
    ```
    批判的思考を促し、意思決定を透明にします。

### コード品質のプロンプト 💻

- **コードの切り捨て防止**

    ```
    "怠けないでください。コードを省略しないでください。"
    ```

    代替フレーズ：「完全なコードのみ」または「コードが完全であることを確認する」

- **カスタム指示のリマインダー**
    ```
    "カスタム指示に従うことを誓います。"
    ```
    あなたの設定ダイヤル⚙️の設定に従うことを強化します。

### コードの整理 📋

- **大規模ファイルのリファクタリング** - _icklebil_

    ```
    "FILENAMEが大きくなりすぎました。このファイルの動作を分析し、安全に分割する方法を提案してください。"
    ```

    戦略的な分解を通じて複雑なファイルを管理します。

- **ドキュメンテーションのメンテナンス** - _icklebil_
    ```
    "コードベースのドキュメンテーションを変更に合わせて更新するのを忘れないでください"
    ```
    コードの変更に合わせてドキュメンテーションが同期されるようにします。

### 分析と計画 🔍

- **構造化された開発** - _yellow_bat_coffee_

    ```
    "コードを書く前に：
    1. すべてのコードファイルを徹底的に分析する
    2. 完全なコンテキストを得る
    3. .MD実装計画を書く
    4. それからコードを実装する"
    ```

    組織化され、計画的な開発を促進します。

- **徹底的な分析** - _yellow_bat_coffee_

    ```
    "完全なフローを徹底的に分析し始めてください、常に信頼スコア1から10を述べてください"
    ```

    早急なコーディングを防ぎ、完全な理解を促します。

- **仮定のチェック** - _yellow_bat_coffee_
    ```
    "このタスクを完了する前にクリアする必要があるすべての仮定と不確実性をリストしてください。"
    ```
    開発の初期段階で潜在的な問題を特定します。

### 思慮深い開発 🤔

- **一時停止と反省** - _nickbaumann98_

    ```
    "10まで数える"
    ```

    行動を起こす前に慎重に考えることを促進します。

- **完全な分析** - _yellow_bat_coffee_

    ```
    "解決策を見つけたと思っても、分析を早く終わらせないでください、分析を続けてください"
    ```

    問題の徹底的な探求を確保します。
-   **連続的な自信チェック** - _pacnpal_
    ```
    "ファイルを保存する前、保存後、拒否後、タスク完了前に自信度（1-10）を評価する"
    ```
    自己評価を通じて品質を維持します。

### ベストプラクティス 🎯

-   **プロジェクト構造** - _kvs007_

    ```
    "構造的または依存関係の変更を提案する前にプロジェクトファイルを確認する"
    ```

    プロジェクトの整合性を維持します。

-   **批判的思考** - _chinesesoup_

    ```
    "これが実装する最良の方法であるかどうかを確かめるために「愚かな」質問をする"
    ```

    仮定に挑戦し、より良い解決策を発見します。

-   **コードスタイル** - _yellow_bat_coffee_

    ```
    プロンプトで「エレガント」や「シンプル」などの言葉を使用する
    ```

    コードの組織化と明瞭さに影響を与える可能性があります。

-   **期待の設定** - _steventcramer_
    ```
    "人間は怒るだろう。"
    ```
    （明確な要件と建設的なフィードバックを提供するためのユーモラスなリマインダー）