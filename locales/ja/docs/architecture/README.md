# Cline拡張機能のアーキテクチャ

このディレクトリには、Cline VSCode拡張機能のアーキテクチャに関するドキュメントが含まれています。

## 拡張機能のアーキテクチャ図

[extension-architecture.mmd](./extension-architecture.mmd)ファイルには、Cline拡張機能の高レベルアーキテクチャを示すMermaidダイアグラムが含まれています。このダイアグラムは以下の内容を示しています：

1. **コア拡張機能**
   - 拡張機能のエントリーポイントと主要クラス
   - VSCodeのグローバルステートとシークレットストレージを通じたステート管理
   - Clineクラスにおけるコアビジネスロジック

2. **Webview UI**
   - Reactベースのユーザーインターフェース
   - ExtensionStateContextを通じたステート管理
   - コンポーネントの階層構造

3. **ストレージ**
   - 履歴とステートのためのタスク特化型ストレージ
   - ファイル変更のためのGitベースのチェックポイントシステム

4. **データフロー**
   - コンポーネント間のコア拡張機能のデータフロー
   - Webview UIのデータフロー
   - コアとWebview間の双方向通信

## ダイアグラムの閲覧方法

ダイアグラムを閲覧するには：
1. VSCodeにMermaidダイアグラムビューア拡張機能をインストールする
2. extension-architecture.mmdを開く
3. 拡張機能のプレビュー機能を使用してダイアグラムを表示する

また、ダイアグラムはGitHub上でも閲覧可能で、組み込みのMermaidレンダリングサポートがあります。

## カラースキーム

ダイアグラムは、視認性を高めるための高コントラストカラースキームを使用しています：
- ピンク（#ff0066）：グローバルステートとシークレットストレージコンポーネント
- ブルー（#0066ff）：拡張機能のステートコンテキスト
- グリーン（#00cc66）：Clineプロバイダ
- 全てのコンポーネントは最大の読みやすさのために白いテキストを使用しています