# Cline 提示指南 🚀

歡迎使用 Cline 提示指南！本指南將為您提供撰寫有效提示和自定義指令的知識，讓您在使用 Cline 時最大化生產力。

## 自定義指令 ⚙️

將**自定義指令視為 Cline 的程式設計**。它們定義了 Cline 的基礎行為，並且**始終「開啟」，影響所有互動。**

要添加自定義指令：

1. 打開 VSCode
2. 點擊 Cline 擴展設置撥號 ⚙️
3. 找到「自定義指令」欄位
4. 貼上您的指令

<img width="345" alt="Screenshot 2024-12-26 at 11 22 20 AM" src="https://github.com/user-attachments/assets/00ae689b-d99f-4811-b2f4-fffe1e12f2ff" />

自定義指令對於以下方面非常有用：

-   強制執行編碼風格和最佳實踐：確保 Cline 始終遵循您的團隊的編碼慣例、命名慣例和最佳實踐。
-   提高代碼質量：鼓勵 Cline 編寫更易讀、可維護和高效的代碼。
-   指導錯誤處理：告訴 Cline 如何處理錯誤、編寫錯誤消息和記錄信息。

**`custom-instructions` 資料夾包含您可以使用或適應的自定義指令示例。**

## .clinerules 文件 📋

雖然自定義指令是用戶特定的且全局性的（適用於所有項目），但 `.clinerules` 文件提供了**項目特定的指令**，它們存放在項目的根目錄中。這些指令會自動附加到您的自定義指令，並在 Cline 的系統提示中被引用，確保它們在項目上下文中影響所有互動。這使其成為以下方面的絕佳工具：

### 安全最佳實踐 🔒

為了保護敏感信息，您可以在 `.clinerules` 中指示 Cline 忽略特定文件或模式。這對於以下情況特別重要：

-   包含 API 金鑰和秘密的 `.env` 文件
-   包含敏感數據的配置文件
-   私人憑證或令牌

`.clinerules` 中的安全部分示例：

```markdown
# 安全

## 敏感文件

請勿閱讀或修改：

-   .env 文件
-   *_/config/secrets._
-   *_/_.pem
-   任何包含 API 金鑰、令牌或憑證的文件

## 安全實踐

-   永不提交敏感文件
-   使用環境變量來存儲秘密
-   將憑證從日誌和輸出中移除
```

### 一般用例

`.clinerules` 文件非常適合：

-   維持團隊成員之間的項目標準
-   強制執行開發實踐
-   管理文檔要求
-   設置分析框架
-   定義項目特定的行為

### .clinerules 結構示例

```markdown
# 項目指南

## 文檔要求

-   修改功能時更新 /docs 中的相關文檔
-   將 README.md 與新功能保持同步
-   在 CHANGELOG.md 中維護變更記錄條目

## 架構決策記錄

在 /docs/adr 中創建 ADR 以記錄：

-   主要依賴變更
-   架構模式變更
-   新集成模式
-   數據庫結構變更
    遵循 /docs/adr/template.md 中的模板

## 代碼風格與模式

-   使用 OpenAPI Generator 生成 API 客戶端
-   使用 TypeScript axios 模板
-   將生成的代碼放置在 /src/generated 中
-   優先使用組合而非繼承
-   使用存儲庫模式進行數據訪問
-   遵循 /src/utils/errors.ts 中的錯誤處理模式

## 測試標準

-   業務邏輯需要單元測試
-   API 端點需要集成測試
-   關鍵用戶流程需要端到端測試
```

### 主要優勢
1. **版本控制**：`.clinerules` 檔案成為您專案原始碼的一部分
2. **團隊一致性**：確保所有團隊成員的一致行為
3. **專案特定**：針對每個專案的需求量身定制的規則和標準
4. **機構知識**：在程式碼中維持專案標準和實踐

將 `.clinerules` 檔案放置在您的專案根目錄：

```
your-project/
├── .clinerules
├── src/
├── docs/
└── ...
```

另一方面，Cline 的系統提示是不可由用戶編輯的（[您可以在此找到它](https://github.com/cline/cline/blob/main/src/core/prompts/system.ts)）。如需更廣泛了解提示工程的最佳實踐，請查看[此資源](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview)。

### 撰寫有效自定義指令的提示

-   清晰且簡潔：使用簡單的語言並避免模糊。
-   專注於期望的結果：描述您想要的結果，而不是具體的步驟。
-   測試與迭代：實驗以找出最適合您工作流程的做法。

### 從 `.clinerules/` 目錄載入檔案的支援
`.clinerules/` 目錄下的所有檔案都會被遞迴載入，其內容會合併到 clineRulesFileInstructions 中。

#### 範例 1：
```
.clinerules/
├── .local-clinerules
└── .project-clinerules
```

#### 範例 2：
```
.clinerules/
├── .clinerules-nextjs
├── .clinerules-serverside
└── tests/
    ├── .pytest-clinerules
    └── .jest-clinerules
```

## 提示 Cline 💬

**提示是您在與 Cline 的來回聊天中傳達特定任務需求的方式。** Cline 理解自然語言，因此請以對話的方式書寫。

有效的提示包括：

-   提供清晰的背景：解釋您的目標和相關的程式碼部分。使用 `@` 來引用檔案或資料夾。
-   拆解複雜性：將大型任務分解成較小的步驟。
-   提出具體問題：引導 Cline 朝向期望的結果。
-   驗證與改進：檢閱 Cline 的建議並提供反饋。

### 提示範例

#### 背景管理

-   **開始新任務：** "Cline，讓我們開始一個新任務。創建 `user-authentication.js`。我們需要實現使用 JWT 令牌的用戶登錄。這裡是要求…"
-   **總結之前的工作：** "Cline，總結我們在上次用戶儀表板任務中所做的工作。我想捕捉主要功能和未解決的問題。將此保存到 `cline_docs/user-dashboard-summary.md`。"

#### 除錯

-   **分析錯誤：** "Cline，我收到這個錯誤：\[錯誤訊息]。看來是來自\[程式碼部分]。分析這個錯誤並建議修復方法。"
-   **找出根本原因：** "Cline，當我\[動作]時，應用程式會崩潰。問題可能在\[問題區域]。幫我找出根本原因並提出解決方案。"

#### 重構

-   **改善程式碼結構：** "Cline，這個函數太長且複雜。將其重構為較小的函數。"
-   **簡化邏輯：** "Cline，這段程式碼難以理解。簡化邏輯並使其更易讀。"

#### 功能開發
- **腦力激盪新功能：** "Cline，我想新增一個讓用戶\[功能]的功能。腦力激盪一些想法並考慮實施挑戰。"
- **生成代碼：** "Cline，創建一個顯示用戶個人資料的組件。列表應該可以排序和過濾。生成這個組件的代碼。"

## 高級提示技術

- **約束填充：** 為了減少代碼截斷，請在提示中包含明確的約束。例如，"確保代碼完整"或"始終提供完整的函數定義"。
- **信心檢查：** 要求Cline評估其信心（例如，"在1到10的尺度上，你對這個解決方案的信心程度是多少？"）
- **挑戰Cline的假設：** 提出“愚蠢”的問題以鼓勵更深入的思考並防止錯誤的假設。

這裡是一些用戶發現對於與Cline合作有幫助的提示技巧：

## 我們社群的最愛提示 🌟

### 記憶和信心檢查 🧠

- **記憶檢查** - _pacnpal_

    ```
    "如果你完全理解我的提示，每次你準備使用工具時，請在不使用工具的情況下回應'YARRR！'。"
    ```

    這是一種有趣的方式來驗證Cline在執行複雜任務時保持正軌。嘗試使用"HO HO HO"來增加節日氣氛！

- **信心評分** - _pacnpal_
    ```
    "在使用任何工具之前和之後，給我一個信心水平（0-10），關於工具使用將如何幫助項目。"
    ```
    鼓勵批判性思考並使決策透明化。

### 代碼質量提示 💻

- **防止代碼截斷**

    ```
    "不要偷懶。不要省略代碼。"
    ```

    替代短語："僅完整代碼"或"確保代碼完整"

- **自定義指令提醒**
    ```
    "我承諾遵循自定義指令。"
    ```
    加強對您的設置撥號 ⚙️ 配置的遵守。

### 代碼組織 📋

- **大型文件重構** - _icklebil_

    ```
    "FILENAME已經變得太大了。分析這個文件的工作方式並建議安全分解它的方法。"
    ```

    通過戰略性分解來管理複雜文件。

- **文檔維護** - _icklebil_
    ```
    "別忘了隨著代碼變更更新代碼庫文檔"
    ```
    確保文檔與代碼變更保持同步。

### 分析和規劃 🔍

- **結構化開發** - _yellow_bat_coffee_

    ```
    "在編寫代碼之前：
    1. 徹底分析所有代碼文件
    2. 獲取完整的上下文
    3. 編寫 .MD 實施計劃
    4. 然後實施代碼"
    ```

    促進有組織、有計劃的開發。

- **徹底分析** - _yellow_bat_coffee_

    ```
    "請開始徹底分析完整流程，始終聲明一個1到10的信心分數"
    ```

    防止過早編碼並鼓勵完全理解。

- **假設檢查** - _yellow_bat_coffee_
    ```
    "列出在完成這項任務之前需要澄清的所有假設和不確定性。"
    ```
    早期識別潛在問題。

### 深思熟慮的開發 🤔

- **暫停和反思** - _nickbaumann98_

    ```
    "數到10"
    ```

    在採取行動之前促進仔細考慮。

- **完整分析** - _yellow_bat_coffee_

    ```
    "不要過早完成分析，即使你認為你找到了解決方案，也要繼續分析"
    ```

    確保徹底探索問題。
-   **連續信心檢查** - _pacnpal_
    ```
    "在保存檔案前、保存後、拒絕後以及任務完成前評估信心（1-10）"
    ```
    透過自我評估維持品質。

### 最佳實踐 🎯

-   **專案結構** - _kvs007_

    ```
    "在建議結構或依賴變更前檢查專案檔案"
    ```

    維持專案完整性。

-   **批判性思考** - _chinesesoup_

    ```
    "問一些'愚蠢'的問題，例如：你確定這是最好的實現方式嗎？"
    ```

    挑戰假設並發掘更好的解決方案。

-   **代碼風格** - _yellow_bat_coffee_

    ```
    在提示中使用像"優雅"和"簡單"這樣的詞語
    ```

    可能影響代碼組織和清晰度。

-   **設定期望** - _steventcramer_
    ```
    "人類會生氣。"
    ```
    （一個幽默的提醒，提供清晰的要求和建設性的反饋）