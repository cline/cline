# Cline拡張機能のアーキテクチャ

このディレクトリには、Cline VSCode拡張機能のアーキテクチャに関するドキュメントが含まれています。

## 拡張機能アーキテクチャ図

[extension-architecture.mmd](./extension-architecture.mmd)ファイルには、Cline拡張機能の高レベルアーキテクチャを示すMermaid図が含まれています。この図は以下を示しています：

1. **コア拡張機能**
   - 拡張機能のエントリーポイントとメインクラス
   - VSCodeのグローバル状態とシークレットストレージによる状態管理
   - Clineクラスのコアビジネスロジック

2. **ウェブビューUI**
   - Reactベースのユーザーインターフェース
   - ExtensionStateContextによる状態管理
   - コンポーネント階層

3. **ストレージ**
   - 履歴と状態のためのタスク固有ストレージ
   - ファイル変更のためのGitベースのチェックポイントシステム

4. **データフロー**
   - コンポーネント間のコア拡張機能データフロー
   - ウェブビューUIデータフロー
   - コアとウェブビュー間の双方向通信

## 図の表示方法

図を表示するには：
1. VSCodeにMermaid図表示拡張機能をインストールする
2. extension-architecture.mmdを開く
3. 拡張機能のプレビュー機能を使用して図をレンダリングする

GitHubでも図を表示できます。GitHubにはMermaidレンダリングのサポートが組み込まれています。

## カラースキーム

図は視認性を高めるため、高コントラストの色スキームを使用しています：
- ピンク(#ff0066)：グローバル状態とシークレットストレージコンポーネント
- ブルー(#0066ff)：拡張機能状態コンテキスト
- グリーン(#00cc66)：Clineプロバイダー
- すべてのコンポーネントは最大の読みやすさのために白いテキストを使用しています
