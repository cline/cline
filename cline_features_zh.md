## Cline 的主要功能

Cline 提供了一系列强大的功能，使其能够高效地协助开发者完成各种复杂的软件开发任务。以下是其主要功能的详细介绍：

### 逐步完成复杂任务

Cline 具备强大的分析能力，能够逐步执行复杂的开发任务。其工作流程通常包括：

1.  **项目分析**：接收到任务后，Cline 会首先分析您当前工作区的文件结构和源代码的抽象语法树 (AST)。
2.  **代码理解**：通过正则表达式搜索和阅读相关文件，Cline 可以快速了解现有项目的代码逻辑和上下文。
3.  **智能信息管理**：Cline 会谨慎地管理添加到上下文中的信息，确保即使在大型复杂项目中也能提供有价值的辅助，而不会超出上下文窗口的限制。

这种逐步执行和智能分析的方式，使得 Cline 能够有效地处理具有挑战性的开发需求。

### 文件操作

Cline 能够直接在您的 VSCode 编辑器中创建和编辑文件，并提供以下特性：

*   **实时 Diff 视图**：所有由 Cline 做出的更改都会在 Diff 视图中清晰展示，方便您审查。
*   **灵活修改与反馈**：您可以直接在 Diff 视图中编辑或撤销 Cline 的更改，也可以通过聊天提供反馈，直到对结果满意为止。
*   **自动修复错误**：Cline 会监控 linter 和编译器错误（例如：缺失导入、语法错误等），并尝试自动修复这些在编码过程中出现的问题。
*   **历史记录追踪**：所有 Cline 的操作都会被记录在文件的 Timeline 中，方便追踪和在需要时回滚修改。

### 终端命令执行

借助 VSCode v1.93 版本中新的 Shell 集成更新，Cline 可以在您的终端中直接执行命令并接收输出。这使其能够：

*   **执行多样化任务**：从安装软件包、运行构建脚本到部署应用程序、管理数据库和执行测试，Cline 能够适应您的开发环境和工具链来完成任务。
*   **处理长时间运行的进程**：对于像开发服务器这样的长时间运行的进程，您可以使用“在运行时继续”(Proceed While Running) 按钮，让 Cline 在命令后台运行时继续执行其他任务。
*   **实时响应输出**：Cline 会被告知任何新的终端输出，使其能够对在此过程中可能出现的问题（例如编辑文件后的编译时错误）做出反应。

### 浏览器交互

得益于 Claude 3.5 Sonnet 模型新增的计算机使用能力，Cline 可以进行浏览器交互，包括：

*   **自动化浏览器操作**：启动浏览器，点击元素，输入文本，以及滚动页面。
*   **捕获调试信息**：在每一步操作后捕获截图和控制台日志。
*   **应用场景**：这使得 Cline 能够进行交互式调试、端到端测试，甚至可以用于一般的网页浏览。这赋予了它自主修复视觉错误和运行时问题的能力，而无需您手动操作和复制粘贴错误日志。

例如，您可以要求 Cline “测试应用”，它会执行类似 `npm run dev` 的命令，在浏览器中启动本地运行的开发服务器，并执行一系列测试以确认一切正常。

### 可扩展性 (MCP - 模型上下文协议)

通过模型上下文协议 (Model Context Protocol)，Cline 拥有扩展自身能力的功能：

*   **自定义工具创建**：您可以要求 Cline “添加一个工具”，它会处理从创建新的 MCP 服务器到将其安装到扩展中的所有事情。
*   **社区与定制工具**：虽然可以使用社区制作的服务器，但 Cline 更侧重于创建和安装根据您特定工作流程量身定制的工具。
*   **集成到工具箱**：这些自定义工具随后会成为 Cline 工具箱的一部分，可在未来的任务中使用。例如：
    *   “添加一个获取 Jira 工单的工具”：检索工单的验收标准 (ACs)，让 Cline 协助完成。
    *   “添加一个管理 AWS EC2 的工具”：检查服务器指标并进行实例的扩缩容。
    *   “添加一个拉取最新 PagerDuty 事件的工具”：获取详细信息并要求 Cline 修复相关的错误。

### 上下文管理

Cline 允许您通过特定的命令灵活地向对话中添加上下文信息，以提高其理解和执行任务的准确性：

*   `@url <URL>`：粘贴一个 URL，Cline 会获取该 URL 的内容并将其转换为 Markdown 格式，这在您希望 Cline 参考最新文档时非常有用。
*   `@problems`：将工作区中的错误和警告（来自“问题”面板）添加进来，让 Cline 协助修复。
*   `@file <文件名>`：添加指定文件的内容，这样您就不必通过 API 请求批准读取文件（支持通过输入进行文件搜索）。
*   `@folder <文件夹名>`：一次性添加文件夹中的所有文件内容，进一步加快您的工作流程。

### 检查点与恢复

为了确保开发过程的安全性和灵活性，Cline 在执行任务的每一步都会为您的工作区创建一个快照：

*   **比较更改**：您可以使用“比较”(Compare) 按钮查看快照与当前工作区之间的差异。
*   **恢复状态**：使用“恢复”(Restore) 按钮可以将工作区回滚到选定的快照点。
*   **灵活恢复选项**：例如，在本地 Web 服务器上工作时，您可以使用“仅恢复工作区”(Restore Workspace Only) 快速测试应用程序的不同版本，然后在找到想要继续构建的版本后使用“恢复任务和工作区”(Restore Task and Workspace)。这使您可以安全地探索不同的方法而不会丢失进度。

### 多模型支持

Cline 具有广泛的模型兼容性，支持多种 API 提供商和本地模型：

*   **主流 API 提供商**：支持 OpenRouter、Anthropic、OpenAI、Google Gemini、AWS Bedrock、Azure、GCP Vertex 和 Cerebras。
*   **OpenAI 兼容 API**：您可以配置任何与 OpenAI 兼容的 API。
*   **本地模型**：通过 LM Studio 或 Ollama 使用本地运行的模型。
*   **自动更新模型列表**：如果您使用 OpenRouter，Cline 会获取其最新的模型列表，使您能够在模型可用时立即使用最新的模型。

### 成本追踪

Cline 帮助您清晰地了解 API 的使用情况和相关成本：

*   **全程成本监控**：记录整个任务循环和单个请求的总 token 数和 API 使用成本。
*   **透明化费用**：让您在每一步都清楚地了解支出情况。
